---
// Navbar component with sticky behavior and responsive design
import { Image } from "astro:assets";
import logoImage from "../assets/logo.png";
---

<header id="navbar" class="fixed top-0 left-0 w-full z-50 bg-white normalNav">
  <div class="container mx-auto px-4">
    <nav
      class="flex items-center justify-between transition-all duration-100 ease-in"
    >
      <!-- Logo -->
      <a href="#inicio" class="flex items-center">
        <!-- <span class="text-2xl font-bold text-gray-950">INGECAAL</span> -->
        <Image src={logoImage} alt="" class="max-h-[45px] object-contain" />
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-8">
        <a
          href="#inicio"
          class="text-gray-950 hover:text-primary font-[200] transition-colors text-sm"
          >Conocenos</a
        >
        <a
          href="#nosotros"
          class="text-gray-950 hover:text-primary font-[200] transition-colors text-sm"
          >Nosotros</a
        >
        <a
          href="#servicios"
          class="text-gray-950 hover:text-primary font-[200] transition-colors text-sm"
          >Servicios</a
        >
        <a
          href="#faq"
          class="text-gray-950 hover:text-primary font-[200] transition-colors text-sm"
          >Preguntas</a
        >
        <a
          href="#contacto"
          class="bg-primary hover:bg-accent text-white text-sm font-bold py-2 px-4 rounded-md transition duration-300"
        >
          Contactanos
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="md:hidden text-gray-950 focus:outline-none"
        aria-label="MenÃº"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </nav>
  </div>

  <!-- Mobile Navigation -->
  <div id="mobile-menu" class="md:hidden bg-dark bg-opacity-95 hidden">
    <div class="container mx-auto px-4 py-4 flex flex-col space-y-4">
      <a
        href="#inicio"
        class="text-gray-950 hover:text-primary font-[200] transition-colors py-2"
        >Conocenos</a
      >
      <a
        href="#nosotros"
        class="text-gray-950 hover:text-primary font-medium transition-colors py-2"
        >Nosotros</a
      >
      <a
        href="#servicios"
        class="text-gray-950 hover:text-primary font-medium transition-colors py-2"
        >Servicios</a
      >
      <a
        href="#faq"
        class="text-gray-950 hover:text-primary font-medium transition-colors py-2"
        >Preguntas</a
      >
      <a
        href="#contacto"
        class="bg-primary hover:bg-accent text-gray-950 font-medium py-2 px-4 rounded-md transition duration-300 inline-block"
      >
        Contacto
      </a>
    </div>
  </div>
</header>

<script>
  // Get elements
  const navbar = document.getElementById("navbar");
  const mobileMenuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");

  // Toggle mobile menu
  mobileMenuButton?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
  });

  // Close mobile menu when clicking on a link
  const mobileLinks = mobileMenu?.querySelectorAll("a") ?? [];
  mobileLinks.forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu?.classList.add("hidden");
    });
  });

  // Change navbar background on scroll
  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      navbar?.classList.remove("normalNav");
      navbar?.classList.add("scrolledNav");
    } else {
      navbar?.classList.add("normalNav");
      navbar?.classList.remove("scrolledNav");
    }
  });

  // Initial check for scroll position
  if (window.scrollY > 50) {
    navbar?.classList.remove("normalNav");
    navbar?.classList.add("scrolledNav");
  }
</script>

<style>
  @reference "tailwindcss";

  /* .normalNav {
    @apply;
  } */
  .normalNav nav {
    @apply py-4;
  }
  .scrolledNav nav {
    @apply py-1;
  }
  .scrolledNav {
    @apply shadow-md;
  }
</style>
